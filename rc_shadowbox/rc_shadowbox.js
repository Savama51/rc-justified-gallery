function rc_sb_preload(e,r){jQuery("<img/>").load(function(){r()}).attr("src",e)}function rc_sb_setupSlides(){jQuery("a[rel^='shadowbox']").each(function(){rc_sb_slideURLs[rc_sb_slideURLs.length]=jQuery(this).attr("href"),rc_sb_slideIDs[rc_sb_slideIDs.length]="rc_sb_slide_"+rc_sb_slideIDs.length,rc_sb_slideRootElements[rc_sb_slideRootElements.length]=this}),jQuery("a[rel^='shadowbox']").on("click",function(e){e.preventDefault(),rc_sb_createShadowbox(),rc_sb_openSlide(rc_sb_slideURLs.indexOf(jQuery(this).attr("href")),!1,280)})}function rc_sb_openSlide(e,r,_){rc_sb_preload(rc_sb_slideURLs[e],function(){rc_sb_giveFocus(e,_),rc_sb_currentSlideID=e,rc_sb_updateNavigationButtons(e),jQuery("#"+rc_sb_slideIDs[e]).attr("src",rc_sb_slideURLs[e])});var s='<img class="rc_sb_image" id="'+rc_sb_slideIDs[e]+'" />';0==jQuery(".rc_sb_image").length?jQuery("#rc_sb_container").append(s):0==jQuery("#"+rc_sb_slideIDs[e]).length&&(r?jQuery(s).insertAfter("#"+rc_sb_slideIDs[rc_sb_currentSlideID]):jQuery(s).insertBefore("#"+rc_sb_slideIDs[rc_sb_currentSlideID])),rc_sb_putSlideInStartingPosition(e,_)}function rc_sb_createShadowbox(){if(0==jQuery("#rc_sb_overlay").length){var e='<div id="rc_sb_overlay"></div><div id="rc_sb_container"><div id="rc_sb_close" class="rc_sb_button"></div>';e+='<div id="rc_sb_prev"  class="rc_sb_button"></div><div id="rc_sb_next"  class="rc_sb_button"></div></div>',jQuery(e).hide().prependTo("body").fadeIn(280),rc_sb_initialiseControls()}}function rc_sb_updateNavigationButtons(e){0==e?jQuery("#rc_sb_prev").fadeOut(140):jQuery("#rc_sb_prev").fadeIn(140),e==rc_sb_slideIDs.length-1?jQuery("#rc_sb_next").fadeOut(140):jQuery("#rc_sb_next").fadeIn(140)}function rc_sb_closeShadowbox(){jQuery("#rc_sb_overlay").fadeOut(280,function(){jQuery(this).remove()}),rc_sb_placeSlideOverSourceElement(rc_sb_currentSlideID,280,0),jQuery(".rc_sb_button").remove(),setTimeout(function(){jQuery("#rc_sb_container").remove()},280)}function rc_sb_putSlideInStartingPosition(e,r){1==jQuery(".rc_sb_image").length?rc_sb_placeSlideOverSourceElement(e,0,0):rc_sb_placeSlideInCenterAtBack(e,0,0)}function rc_sb_giveFocus(e,r){rc_sb_expandSlideToFullSize(e,280,r)}function rc_sb_loseFocus(e,r){switch(r){case"left":jQuery("#"+rc_sb_slideIDs[e]).animate({left:"-50%",zIndex:"99996"},280);break;case"right":default:jQuery("#"+rc_sb_slideIDs[e]).animate({left:"150%",zIndex:"99996"},280)}}function rc_sb_next(){rc_sb_currentSlideID<rc_sb_slideIDs.length-1&&(rc_sb_loseFocus(rc_sb_currentSlideID,"left"),rc_sb_openSlide(rc_sb_currentSlideID+1,!0))}function rc_sb_prev(){rc_sb_currentSlideID>0&&(rc_sb_loseFocus(rc_sb_currentSlideID,"right"),rc_sb_openSlide(rc_sb_currentSlideID-1,!1))}function rc_sb_expandSlideToFullSize(e,r,_){rc_sb_currentPosition="FULL_SCREEN";var s=rc_sb_getRatio(jQuery(rc_sb_slideRootElements[e]).children().first()),c=rc_sb_getRatio(jQuery("#rc_sb_container")),i=jQuery("#rc_sb_container").width(),t=jQuery("#rc_sb_container").height();s>=c?t=i/s:i=t*s,jQuery("#"+rc_sb_slideIDs[e]).delay(_).animate({marginLeft:-(i/2)+"px",left:"50%",top:jQuery("#rc_sb_container").height()/2+"px",width:i+"px",height:t+"px",zIndex:"99997"},r,"linear")}function rc_sb_placeSlideOverSourceElement(e,r,_){rc_sb_currentPosition="OVERLAID";var s=jQuery(rc_sb_slideRootElements[e]).children().first(),c=jQuery(s).width(),i=jQuery(s).height(),t=jQuery(s).position().top+i/2-jQuery(window).scrollTop(),n=jQuery(s).position().left-jQuery(window).scrollLeft();jQuery("#"+rc_sb_slideIDs[e]).animate({marginLeft:"0",top:t+"px",left:n+"px",width:c+"px",height:i+"px",zIndex:"99996"},r)}function rc_sb_placeSlideInCenterAtBack(e,r){rc_sb_currentPosition="CENTER",jQuery("#"+rc_sb_slideIDs[e]).animate({marginLeft:"0",top:jQuery("#rc_sb_container").height()/2-35+"px",left:jQuery("#rc_sb_container").width()/2-35+"px",width:"70px",height:"70px",zIndex:"99996"},r)}function rc_sb_getRatio(e){return initWidth=jQuery(e).width(),initHeight=jQuery(e).height(),initWidth/initHeight}function rc_sb_initialiseControls(){jQuery("#rc_sb_prev").on("click",function(){rc_sb_prev()}),jQuery("#rc_sb_next").on("click",function(){rc_sb_next()}),jQuery("#rc_sb_close").on("click",function(){rc_sb_closeShadowbox()}),jQuery("#rc_sb_container").on("click",function(e){return e.target!=this?!1:void rc_sb_closeShadowbox()}),jQuery(document).on("keydown",function(e){if(!rc_sb_keyPressed)switch(e.which){case 37:rc_sb_prev();break;case 39:rc_sb_next();break;case 27:case 8:rc_sb_closeShadowbox()}rc_sb_keyPressed=!0}),jQuery(document).on("keyup",function(){rc_sb_keyPressed=!1})}var rc_sb_slideURLs=new Array,rc_sb_slideIDs=new Array,rc_sb_slideRootElements=new Array,rc_sb_currentSlideID,rc_sb_keyPressed=!1,rc_sb_currentPosition;jQuery(function(){rc_sb_setupSlides(),rc_sb_preload(rc_sb_imgFolder+"loading.gif",function(){}),rc_sb_preload(rc_sb_imgFolder+"close.png",function(){}),rc_sb_preload(rc_sb_imgFolder+"prev.png",function(){}),rc_sb_preload(rc_sb_imgFolder+"next.png",function(){})}),jQuery(window).resize(function(){rc_sb_expandSlideToFullSize(rc_sb_currentSlideID,0,0)}),jQuery(window).scroll(function(){"OVERLAID"==rc_sb_currentPosition&&rc_sb_placeSlideOverSourceElement(rc_sb_currentSlideID,0,0)});