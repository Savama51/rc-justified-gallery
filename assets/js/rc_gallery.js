function lazyLoadImages(){jQuery(".rc_galleryimg_container").each(function(){if("true"!=jQuery(this).attr("data-thumbs-exist")){var t=jQuery(this).parent().attr("href"),r=new XMLHttpRequest,e=jQuery(this).parent().parent().attr("data-start-height"),a=jQuery(this).parent().parent().attr("data-root-url")+"?option=com_ajax&group=content&plugin=rc_gallery&format=json&img="+t+"&start_height="+e,i=this;r.onreadystatechange=function(){if(4==this.readyState&&200==this.status){JSON.parse(this.responseText);populateThumbnail(i)}},r.open("GET",a,!0),r.send()}else populateThumbnail(this)})}function populateThumbnail(t){jQuery(t).find("picture").children().each(function(){"IMG"==jQuery(this).prop("tagName")?(jQuery(this).attr("src",jQuery(this).attr("data-src")),jQuery(this).attr("alt",jQuery(this).attr("data-alt"))):"SOURCE"==jQuery(this).prop("tagName")&&jQuery(this).attr("srcset",jQuery(this).attr("data-srcset"))})}function resizeGallery(){jQuery(".rc_gallery").each(function(){var t=jQuery(this).attr("data-start-height"),r=jQuery(this).attr("data-margin-size"),e=jQuery(this).width()-1,a=0,i=new Array,h=new Array,s=new Array,n=new Array,u=0,y=0,j=jQuery(this).find(".rc_galleryimg").length;jQuery(this).find(".rc_galleryimg").each(function(){var l=jQuery(this).attr("data-width"),o=jQuery(this).attr("data-height");h[u]=l/o,jQuery(this).height(t),jQuery(this).width(t/o*l),a+(jQuery(this).width()+2*r)/2>=e?(n[y]=a,y++,a=jQuery(this).width()+2*r):(a=a+jQuery(this).width()+2*r,n[y]=u==j-1&&a<e?e:a),i[u]=jQuery(this).width()+2*r,s[u]=y,u++});j=i.length;for(var l=new Array,o=new Array,c=-1,Q=0;Q<=j;Q++){var d=i[Q],g=s[Q],p=n[g];p||(p=e-2*r),l[Q]=d/p*e-2*r,l[Q]+2*r>e-2*r&&(l[Q]=e-2*r),c!=g&&(o[g]=(l[Q]-2*r)/h[Q],c=g)}u=0,jQuery(this).find(".rc_galleryimg").each(function(){jQuery(this).width(l[u]),jQuery(this).height(o[s[u]]),u++})})}jQuery(document).ready(function(){resizeGallery(),lazyLoadImages()}),jQuery(window).resize(function(){resizeGallery()});